## 1. 项目概述

### 1.1 项目简介

本项目是一款基于纯前端技术开发的「图书馆勤工助学值班记录器」，旨在简化图书馆学生勤工助学值班次数的统计与管理工作。无需后端服务器，所有数据存储在浏览器本地，操作便捷、轻量化，支持多模式切换、批量管理、数据汇总等核心功能，适配桌面端、平板端、移动端等多设备访问。

### 1.2 核心优势

- 轻量化：纯前端实现，无需部署服务器，打开HTML文件即可使用；

- 本地化存储：数据保存在浏览器本地，无需担心数据丢失（除非手动清空浏览器缓存）；

- 自适应布局：支持桌面/平板/移动端，学生记录采用卡片式布局，空间利用率高；

- 操作友好：所有操作均有提示反馈，危险操作（如全部重置）有二次确认，降低误操作风险；

- 功能完整：覆盖学生添加、批量导入、值班次数记录、数据汇总、一键重置等全流程需求。

## 2. 功能说明

### 2.1 核心功能

|功能模块|具体说明|
|---|---|
|学生管理|支持单个添加学生、批量导入学生（支持逗号/换行/空格分隔）、单个删除、全部重置（清空所有数据）|
|值班次数记录|支持书库班/流通班次数一键增加、单次值班次数清零|
|模式切换|双班模式（同时显示书库+流通班）、仅书库模式、仅流通模式|
|数据汇总统计|自动统计书库班总次数、流通班总次数、参与学生总数，生成汇总表格|
|列表布局管理|学生记录支持卡片式布局（桌面端3列/平板端2列/移动端1列），可折叠/展开列表|
### 2.2 辅助功能

| 功能模块  | 具体说明                                  |
| ----- | ------------------------------------- |
| 操作提示  | 所有操作（添加/删除/重置/切换模式等）均有Toast提示，反馈操作结果  |
| 二次确认  | 危险操作（清零次数、删除学生、全部重置）弹出确认框，防止误操作       |
| 状态持久化 | 模式选择、列表折叠/展开状态、汇总表格显隐状态均保存在本地，刷新页面不丢失 |
| 空状态提示 | 无学生数据时显示友好提示，引导用户添加数据                 |
## 3. 使用指南

### 3.1 环境准备

- 运行环境：任意现代浏览器（Chrome/Firefox/Edge/Safari等）；

- 部署方式：将项目HTML文件保存到本地，直接双击打开即可使用，无需额外配置。

### 3.2 基础操作

#### 3.2.1 模式切换

1. 页面顶部提供「双班模式」「仅书库模式」「仅流通模式」三个按钮；

2. 默认选中「双班模式」，点击对应按钮可切换模式，切换后会自动隐藏无关的值班记录项（如仅书库模式隐藏流通班操作）；

3. 模式选择状态会自动保存，刷新页面后保持上次选择。

#### 3.2.2 添加学生

##### 单个添加

1. 在「添加学生」区域的输入框中输入学生姓名；

2. 点击「添加」按钮，若姓名为空/已存在，会弹出提示；添加成功后输入框清空，学生列表自动更新。

##### 批量导入

1. 点击「批量导入」按钮，弹出导入弹窗；

2. 在文本框中输入多个学生姓名，支持逗号、换行、空格作为分隔符（例：`张三,李四 王五\n赵六`）；

3. 点击「确认导入」，系统会自动去重，提示导入成功数量/重复数量；

4. 点击「取消」关闭弹窗，不执行导入操作。

#### 3.2.3 值班次数管理

1. 学生卡片中显示「书库」「流通」操作组（根据当前模式显示/隐藏）；

2. 点击「+书库/流通」按钮，对应学生的值班次数+1，页面底部统计数据自动更新；

3. 点击「清零」按钮，弹出确认框，确认后对应学生的该类值班次数重置为0。

#### 3.2.4 学生记录管理

##### 单个删除

1. 在学生卡片中点击「删除」按钮；

2. 弹出确认框，确认后删除该学生的所有记录，统计数据自动更新。

##### 全部重置

1. 在「添加学生」区域点击「全部重置」按钮（红色危险样式）；

2. 弹出二次确认框（提示“操作不可恢复”）；

3. 确认后清空所有学生数据，页面恢复初始状态；

4. 按钮hover时显示提示语：“此操作不可恢复，清空所有数据”。

#### 3.2.5 列表与汇总管理

##### 学生列表折叠/展开

1. 「学生值班记录」标题右侧的「折叠/展开学生列表」按钮；

2. 点击可切换列表状态：展开时显示所有学生卡片，折叠时仅显示提示语；

3. 状态自动保存，刷新页面不丢失。

##### 汇总表格显隐

1. 「学生值班记录」标题右侧的「显示/隐藏汇总」按钮；

2. 点击可显示/隐藏汇总表格，表格包含学生序号、姓名、各类型值班次数、总数，以及总计行；

3. 表格更新时间实时显示，确保数据时效性。

## 4. 技术实现

### 4.1 技术栈

|技术/工具|用途|
|---|---|
|HTML5|页面结构搭建|
|CSS3|样式定制，包含动画过渡、自适应布局|
|JavaScript (ES6+)|逻辑实现，包含事件绑定、本地存储、数据处理|
|Tailwind CSS|快速实现自适应布局、样式美化，无需手写大量CSS|
|Font Awesome|提供图标支持（添加/删除/重置/模式切换等按钮图标）|
### 4.2 核心技术点

#### 4.2.1 本地存储（localStorage）

- 学生数据存储键名：`libraryStudents`，格式为JSON数组，示例：

```JSON
[
  {"name": "张三", "libraryCount": 3, "circulationCount": 2},
  {"name": "李四", "libraryCount": 1, "circulationCount": 0}
]
```

- 状态存储键名：

    - `shiftMode`：模式选择（1=双班/2=仅书库/3=仅流通）；

    - `isSummaryShow`：汇总表格显隐状态（true/false）；

    - `isStudentListExpanded`：学生列表展开状态（true/false）。

#### 4.2.2 自适应卡片布局

- 使用CSS Grid实现学生卡片自适应：

```CSS
.student-list-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 0.75rem;
}
```

- 桌面端一行3张卡片，平板端2张，移动端1张，最小卡片宽度280px，保证操作按钮不拥挤。

#### 4.2.3 动画过渡

- 汇总表格显隐、学生列表折叠/展开均添加0.3s过渡动画，避免生硬切换：

```CSS
.summary-container, .student-list-container {
  transition: all 0.3s ease-in-out;
}
```

- Toast提示框的显示/隐藏也添加过渡动画，提升交互体验。

## 5. 自定义配置

### 5.1 调整学生卡片布局

修改`.student-list-container`的`grid-template-columns`属性：

```CSS
/* 示例1：增大卡片最小宽度（一行更少卡片） */
.student-list-container {
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
}

/* 示例2：固定2列布局（所有设备均2列） */
.student-list-container {
  grid-template-columns: repeat(2, 1fr);
}
```
### 5.2 修改卡片样式

调整`.student-card`的样式属性，示例：

```CSS
/* 增大卡片内边距、圆角 */
.student-card {
  padding: 1rem; /* 默认0.75rem */
  border-radius: 1rem; /* 默认0.75rem */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* 增强阴影 */
}
```
### 5.3 调整提示文案

- 全部重置确认文案：修改`resetAllData`函数中的`confirm`参数；

- Toast提示文案：修改对应操作的`showToast`调用参数；

- 空状态提示文案：修改`renderStudentList`函数中的空状态HTML。

### 5.4 修改本地存储键名

若需修改数据存储的键名，替换所有`localStorage.getItem('libraryStudents')`/`localStorage.setItem('libraryStudents')`中的`libraryStudents`为自定义键名即可。

## 6. 注意事项

1. 数据存储：所有数据保存在浏览器本地`localStorage`中，清空浏览器缓存/更换设备会导致数据丢失，如需备份数据，可手动复制`localStorage`中的`libraryStudents`值；

2. 浏览器兼容：建议使用现代浏览器（Chrome 80+/Edge 80+/Firefox 75+），低版本浏览器可能存在布局/功能异常；

3. 危险操作：「全部重置」「删除学生」「清零次数」均为不可逆操作，操作前请确认数据无需保留；

4. 批量导入：导入的学生姓名会自动去重，重复姓名不会重复添加，避免数据冗余。

## 7. 常见问题

### Q1：添加学生后列表不显示？

A1：检查是否误操作折叠了学生列表，点击「展开学生列表」按钮即可；若仍不显示，刷新页面重试。

### Q2：切换模式后部分按钮消失？

A2：模式切换后会自动隐藏无关操作按钮（如仅书库模式隐藏流通班按钮），属于正常现象，切换回双班模式即可显示。

### Q3：全部重置后数据未清空？

A3：可能是浏览器缓存问题，手动刷新页面（F5）即可；若仍有数据，检查是否打开了多个页面标签，关闭多余标签后重试。

### Q4：移动端卡片显示异常？

A4：确保浏览器开启了自适应视图（禁止缩放），移动端默认一行1张卡片，若仍异常，调整`student-list-container`的`minmax`值为更小的数值（如240px）。
> （注：文档部分内容可能由 AI 生成）